import { Injector, ElementRef } from '@angular/core';
import { NzModalRef } from 'ng-zorro-antd';
import { AppComponentBase } from '@shared/component-base/app-component-base';

/**
 *
 *????????????????????? Form???????????????????????????
 */

export abstract class ModalComponentBase extends AppComponentBase {
  title = '';
  nzModalRef: NzModalRef;

  /**
   * ????????????
   * @param injector ?????????
   * @param _nzModalRef nzModal ???????????????????????????????????????????????????modal?????????????????????????????????modal?????????????????????null??????????????????????????????nzModalRef????????????nzModalComponent????????????
   */
  constructor(injector: Injector) {
    super(injector);
    this.nzModalRef = injector.get(NzModalRef);
  }
  /**
   * ?????????????????????
   * @param result ????????????
   */
  success(result: any = true) {
    if (result) {
      this.nzModalRef.close(result);
    } else {
      this.close();
    }
  }

  close($event?: MouseEvent): void {
    this.nzModalRef.close();
  }
}
